<!DOCTYPE html>
<html>
<head>
	<title>Random Ron</title>

	<style type="text/css">
		body {
			margin: 1em auto;
			max-width: 40em;
			width: 88%;
		}
	</style>
</head>
<body>

	<h1>Random Ron</h1>

	<blockquote></blockquote>

	<p>
		<button>More Ron</button>
	</p>

	<script>
		const API_ENDPOINT = 'https://ron-swanson-quotes.herokuapp.com/v2/quotes';
        const button = document.querySelector('button');
        const blockquote = document.querySelector('blockquote');

        const handleRequest = () => {
            fetch(API_ENDPOINT)
            .then(response => {
                if (response.ok) {
                    return response.json();
                } else {
                    return Promise.reject(response);
                }
            })
            .then(data => blockquote.textContent = data)
            .catch(error => {
                blockquote.textContent = 'Failed to load a quote';
                console.warn('Somth went wrong.', error);
            });
        };

        button.addEventListener('click', handleRequest);
        handleRequest();
	</script>
</body>
</html>